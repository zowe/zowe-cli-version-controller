<!--

     Licensed to the Apache Software Foundation (ASF) under one
     or more contributor license agreements.  See the NOTICE file
     distributed with this work for additional information
     regarding copyright ownership.  The ASF licenses this file
     to you under the Apache License, Version 2.0 (the
     "License"); you may not use this file except in compliance
     with the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing,
     software distributed under the License is distributed on an
     "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
     specific language governing permissions and limitations
     under the License.

-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
    <!-- Generated by groovydoc (2.5.5) on Tue Jan 29 17:23:27 EST 2019 -->
    <title>NodeJSRunner (Groovy Documentation)</title>
    <meta name="date" content="2019-01-29">
    <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
    <link href="../../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
    <link href="../../../../groovy.ico" type="image/x-icon" rel="icon">
    <link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">

<body class="center">
<script type="text/javascript"><!--
if (location.href.indexOf('is-external=true') == -1) {
    parent.document.title="NodeJSRunner (Groovy Documentation)";
}
//-->
</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
    <!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../index-all.html">Index</a></li>
        <li><a href="../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../index.html?org/zowe/pipelines/nodejs/NodeJSRunner" target="_top">Frames</a></li>
            <li><a href="NodeJSRunner.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;<li><a href="#field_summary">Field</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            <li><a href="#field_detail">Field</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <a name="skip-navbar_top">
        <!--   -->
    </a></div>
<!-- ========= END OF TOP NAVBAR ========= -->

<!-- ======== START OF CLASS DATA ======== -->
<div class="header">

    <div class="subTitle">Package: <strong>org.zowe.pipelines.nodejs</strong></div>

    <h2 title="[Groovy] Class NodeJSRunner" class="title">[Groovy] Class NodeJSRunner</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><ul class="inheritance"></ul></li><li>org.zowe.pipelines.nodejs.NodeJSRunner
</ul>
<div class="description">
    <ul class="blockList">
        <li class="blockList">



          </li>
    </ul>
</div>

<div class="summary">
    <ul class="blockList">
        <li class="blockList">
        <!-- =========== NESTED CLASS SUMMARY =========== -->
        

        <!-- =========== ENUM CONSTANT SUMMARY =========== -->
        
        <!-- =========== FIELD SUMMARY =========== -->
        
            <ul class="blockList">
                <li class="blockList"><a name="field_summary"><!--   --></a>
                    <h3>Field Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Enum constants summary table">
                        <caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Modifiers</th>
                            <th class="colLast" scope="col">Name</th>
                            <th class="colLast" scope="col">Description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>private&nbsp;static&nbsp;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#_GIT_REVISION_LOOKUP">_GIT_REVISION_LOOKUP</a></code></td>
                            <td class="colLast">Shell command that gets the current git revision.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>private&nbsp;static&nbsp;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#_SETUP_STAGE_NAME">_SETUP_STAGE_NAME</a></code></td>
                            <td class="colLast">The name of the root setup stage.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>private&nbsp;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#_buildRevision">_buildRevision</a></code></td>
                            <td class="colLast">The git commit revision of the build. </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>private&nbsp;boolean</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#_didBuild">_didBuild</a></code></td>
                            <td class="colLast">A boolean that tracks if the build step was run. </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>private&nbsp;boolean</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#_isProtectedBranch">_isProtectedBranch</a></code></td>
                            <td class="colLast">Tracks if the current branch is protected.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>private&nbsp;boolean</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#_setupCalled">_setupCalled</a></code></td>
                            <td class="colLast">Tracks if the setup method was called.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>private&nbsp;boolean</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#_shouldSkipRemainingStages">_shouldSkipRemainingStages</a></code></td>
                            <td class="colLast">Tracks if the remaining stages should be skipped.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>private&nbsp;<a href='../../../../org/zowe/pipelines/nodejs/PipelineStages.html'>PipelineStages</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#_stages">_stages</a></code></td>
                            <td class="colLast">The stages of the pipeline to execute. </td>
                        </tr>
                        
                    </table>
                   </ul>
                </li>
                
            </ul>
        

        <!-- =========== PROPERTY SUMMARY =========== -->
        
         <ul class="blockList">
                <li class="blockList"><a name="property_summary"><!--   --></a>
                    <h3>Properties Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties Summary table, listing nested classes, and an explanation">
                        <caption><span>Properties</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>static&nbsp;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#BUILD_ARCHIVE_NAME">BUILD_ARCHIVE_NAME</a></code><br>The name of the library output archived from the <a href='#buildStage(java.util.Map)'>buildStage(Map)</a> method.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>static&nbsp;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#_CI_SKIP">_CI_SKIP</a></code><br>Text used for the CI SKIP commit.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong><a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a>[]</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#adminEmails">adminEmails</a></code><br>This is a list of administrator emails addresses that will receive emails when a build
 happens on a protected branch.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong><a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html' title='def'>def</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#buildOptions">buildOptions</a></code><br>Options that are to be added to the build.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong><a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html' title='def'>def</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#buildParameters">buildParameters</a></code><br>Build parameters that will be defined to the build</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong><a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#defaultBuildHistory">defaultBuildHistory</a></code><br>The number of historical builds kept for a non-protected branch.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong><a href='../../../../org/zowe/pipelines/nodejs/models/GitConfig.html'>GitConfig</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#gitConfig">gitConfig</a></code><br>Git user configuration, add more documentation in future story</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong><a href='http://docs.oracle.com/javase/8/docs/api/java/util/Map.html' title='Map'>Map</a>&lt;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a>, <a href='http://docs.oracle.com/javase/8/docs/api/java/util/List.html' title='List'>List</a>&lt;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a>&gt;&gt;</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#notificationImages">notificationImages</a></code><br>Images embedded in notification emails depending on the status of the build.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong><a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#protectedBranchBuildHistory">protectedBranchBuildHistory</a></code><br>The number of historical builds kept for a protected branch.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong><a href='http://docs.oracle.com/javase/8/docs/api/java/util/Map.html' title='Map'>Map</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#protectedBranches">protectedBranches</a></code><br>A map of protected branches.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong><a href='../../../../org/zowe/pipelines/nodejs/models/RegistryConfig.html'>RegistryConfig</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#publishConfig">publishConfig</a></code><br>This is the connection information for the registry where code is published
 to.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong><a href='../../../../org/zowe/pipelines/nodejs/models/RegistryConfig.html'>RegistryConfig</a>[]</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#registryConfig">registryConfig</a></code><br>An array of registry connection information information for each registry.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong><a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html' title='def'>def</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#steps">steps</a></code><br>Reference to the groovy pipeline variable.</td>
                        </tr>
                        
                    </table>
                   </ul>
                </li>
            </ul>
        

        <!-- =========== ELEMENT SUMMARY =========== -->
        

        
        <!-- ======== CONSTRUCTOR SUMMARY ======== -->
        <ul class="blockList">
                <li class="blockList"><a name="constructor_summary"><!--   --></a>
                    <h3>Constructor Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructors Summary table">
                        <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Constructor and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst">
                                <code><a href="#NodeJSRunner(def)">NodeJSRunner</a>
                                (<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html' title='def'>def</a> steps)</code><br>Constructs the class.</td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
        </ul>
        

        
        <!-- ========== METHOD SUMMARY =========== -->
        <ul class="blockList">
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Methods Summary table">
                        <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type Params</th>
                            <th class="colLast" scope="col">Return Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>private&nbsp;void</code></td>
                            <td class="colLast"><code><strong><a href="#_closureWrapper(org.zowe.pipelines.nodejs.models.Stage, groovy.lang.Closure)">_closureWrapper</a></strong>(<a href='../../../../org/zowe/pipelines/nodejs/models/Stage.html'>Stage</a> stage, <a href='http://docs.groovy-lang.org/latest/html/api/groovy/lang/Closure.html' title='Closure'>Closure</a> closure)</code><br>Wraps a closure function in a try catch.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>private&nbsp;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a></code></td>
                            <td class="colLast"><code><strong><a href="#_getStageSkipOption(java.lang.String)">_getStageSkipOption</a></strong>(<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a> name)</code><br>Gets the stage skip parameter name.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>private&nbsp;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a></code></td>
                            <td class="colLast"><code><strong><a href="#_getTestSummary()">_getTestSummary</a></strong>()</code><br>Gets a test summary string.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>private&nbsp;void</code></td>
                            <td class="colLast"><code><strong><a href="#_loginToRegistry(org.zowe.pipelines.nodejs.models.RegistryConfig)">_loginToRegistry</a></strong>(<a href='../../../../org/zowe/pipelines/nodejs/models/RegistryConfig.html'>RegistryConfig</a> registry)</code><br>Login to the specified registry.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>private&nbsp;void</code></td>
                            <td class="colLast"><code><strong><a href="#_logoutOfRegistry(org.zowe.pipelines.nodejs.models.RegistryConfig)">_logoutOfRegistry</a></strong>(<a href='../../../../org/zowe/pipelines/nodejs/models/RegistryConfig.html'>RegistryConfig</a> registry)</code><br>Logout of the specified registry.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>private&nbsp;void</code></td>
                            <td class="colLast"><code><strong><a href="#_sendEmailNotification()">_sendEmailNotification</a></strong>()</code><br>Send an email notification about the result of the build to the appropriate users</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>private&nbsp;void</code></td>
                            <td class="colLast"><code><strong><a href="#_validateReportInfo(org.zowe.pipelines.nodejs.models.TestReport, java.lang.String, java.lang.String)">_validateReportInfo</a></strong>(<a href='../../../../org/zowe/pipelines/nodejs/models/TestReport.html'>TestReport</a> report, <a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a> reportName, <a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a> stageName)</code><br>Validates that a test report has the required options.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#buildStage(java.util.Map)">buildStage</a></strong>(<a href='http://docs.oracle.com/javase/8/docs/api/java/util/Map.html' title='Map'>Map</a> arguments = [:])</code><br>Creates a stage that will build a NodeJS package.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#createStage(org.zowe.pipelines.nodejs.models.StageArgs)">createStage</a></strong>(<a href='../../../../org/zowe/pipelines/nodejs/models/StageArgs.html'>StageArgs</a> args)</code><br>Creates a new stage to be run in the Jenkins pipeline.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#createStage(java.util.Map)">createStage</a></strong>(<a href='http://docs.oracle.com/javase/8/docs/api/java/util/Map.html' title='Map'>Map</a> arguments)</code><br>Creates a new stage to be run in the Jenkins pipeline.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#end(java.lang.String)">end</a></strong>(<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a>[] archiveFolders = [])</code><br>The end method MUST be the last method called as part of your pipeline. </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code><a href='../../../../org/zowe/pipelines/nodejs/models/Stage.html'>Stage</a></code></td>
                            <td class="colLast"><code><strong><a href="#getFirstFailingStage()">getFirstFailingStage</a></strong>()</code><br>/*.*"
        }, resultThreshold: ResultEnum.FAILURE, doesIgnoreSkipAll: true, isSkipable: false)</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code><a href='../../../../org/zowe/pipelines/nodejs/models/Stage.html'>Stage</a></code></td>
                            <td class="colLast"><code><strong><a href="#getStage(java.lang.String)">getStage</a></strong>(<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a> stageName)</code><br>Get a stage from the available stages by name.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#setResult(Result)">setResult</a></strong>(<a href='../../../../Result.html'>Result</a> result)</code><br>Set the build result</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#setup()">setup</a></strong>()</code><br>Creates the pipeline setup stages.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#testStage(java.util.Map)">testStage</a></strong>(<a href='http://docs.oracle.com/javase/8/docs/api/java/util/Map.html' title='Map'>Map</a> arguments = [:])</code><br>Creates a stage that will execute tests on a NodeJS.</td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Inherited Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Inherited Methods Summary table">
                        <caption><span>Inherited Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Methods inherited from class</th>
                            <th class="colLast" scope="col">Name</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>class <a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html' title='Object'>Object</a></code></td>
                            <td class="colLast"><code><a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()' title='wait'>wait</a>, <a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long, int)' title='wait'>wait</a>, <a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)' title='wait'>wait</a>, <a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)' title='equals'>equals</a>, <a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()' title='toString'>toString</a>, <a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()' title='hashCode'>hashCode</a>, <a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()' title='getClass'>getClass</a>, <a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()' title='notify'>notify</a>, <a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()' title='notifyAll'>notifyAll</a></code></td>
                        </tr>
                    </table>
                   </ul>
              </li>
                
        </ul>
        
    </li>
    </ul>
</div>

<div class="details">
    <ul class="blockList">
        <li class="blockList">
           

            
            <!-- =========== FIELD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="field_detail">
                    <!--   -->
                </a>
                    <h3>Field Detail</h3>
                    
                        <a name="_GIT_REVISION_LOOKUP"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;static&nbsp;final&nbsp;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a> <strong>_GIT_REVISION_LOOKUP</strong></h4>
                                <p> Shell command that gets the current git revision.
     </p>
                            </li>
                        </ul>
                    
                        <a name="_SETUP_STAGE_NAME"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;static&nbsp;final&nbsp;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a> <strong>_SETUP_STAGE_NAME</strong></h4>
                                <p> The name of the root setup stage.
     </p>
                            </li>
                        </ul>
                    
                        <a name="_buildRevision"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a> <strong>_buildRevision</strong></h4>
                                <p> The git commit revision of the build. This is determined at the beginning of
 the build.
     </p>
                            </li>
                        </ul>
                    
                        <a name="_didBuild"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;boolean <strong>_didBuild</strong></h4>
                                <p> A boolean that tracks if the build step was run. When false, the build still hasn't completed
     </p>
                            </li>
                        </ul>
                    
                        <a name="_isProtectedBranch"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;boolean <strong>_isProtectedBranch</strong></h4>
                                <p> Tracks if the current branch is protected.
     </p>
                            </li>
                        </ul>
                    
                        <a name="_setupCalled"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;boolean <strong>_setupCalled</strong></h4>
                                <p> Tracks if the setup method was called.
     </p>
                            </li>
                        </ul>
                    
                        <a name="_shouldSkipRemainingStages"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;boolean <strong>_shouldSkipRemainingStages</strong></h4>
                                <p> Tracks if the remaining stages should be skipped.
     </p>
                            </li>
                        </ul>
                    
                        <a name="_stages"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;<a href='../../../../org/zowe/pipelines/nodejs/PipelineStages.html'>PipelineStages</a> <strong>_stages</strong></h4>
                                <p> The stages of the pipeline to execute. As stages are created, they are
 added into this control class.
     </p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            

            
            <!-- =========== PROPERTY DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="prop_detail">
                    <!--   -->
                </a>
                    <h3>Property Detail</h3>
                    
                        <a name="BUILD_ARCHIVE_NAME"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;final&nbsp;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a> <strong>BUILD_ARCHIVE_NAME</strong></h4>
                                <p> The name of the library output archived from the <a href='#buildStage(java.util.Map)'>buildStage(Map)</a> method.
     </p>
                            </li>
                        </ul>
                    
                        <a name="_CI_SKIP"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;final&nbsp;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a> <strong>_CI_SKIP</strong></h4>
                                <p> Text used for the CI SKIP commit.
     </p>
                            </li>
                        </ul>
                    
                        <a name="adminEmails"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a>[] <strong>adminEmails</strong></h4>
                                <p> This is a list of administrator emails addresses that will receive emails when a build
 happens on a protected branch.
     </p>
                            </li>
                        </ul>
                    
                        <a name="buildOptions"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html' title='def'>def</a> <strong>buildOptions</strong></h4>
                                <p> Options that are to be added to the build.
     </p>
                            </li>
                        </ul>
                    
                        <a name="buildParameters"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html' title='def'>def</a> <strong>buildParameters</strong></h4>
                                <p> Build parameters that will be defined to the build
     </p>
                            </li>
                        </ul>
                    
                        <a name="defaultBuildHistory"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a> <strong>defaultBuildHistory</strong></h4>
                                <p> The number of historical builds kept for a non-protected branch.
     </p>
                            </li>
                        </ul>
                    
                        <a name="gitConfig"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='../../../../org/zowe/pipelines/nodejs/models/GitConfig.html'>GitConfig</a> <strong>gitConfig</strong></h4>
                                <p> Git user configuration, add more documentation in future story
     </p>
                            </li>
                        </ul>
                    
                        <a name="notificationImages"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='http://docs.oracle.com/javase/8/docs/api/java/util/Map.html' title='Map'>Map</a>&lt;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a>, <a href='http://docs.oracle.com/javase/8/docs/api/java/util/List.html' title='List'>List</a>&lt;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a>&gt;&gt; <strong>notificationImages</strong></h4>
                                <p> Images embedded in notification emails depending on the status of the build.
     </p>
                            </li>
                        </ul>
                    
                        <a name="protectedBranchBuildHistory"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a> <strong>protectedBranchBuildHistory</strong></h4>
                                <p> The number of historical builds kept for a protected branch.
     </p>
                            </li>
                        </ul>
                    
                        <a name="protectedBranches"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='http://docs.oracle.com/javase/8/docs/api/java/util/Map.html' title='Map'>Map</a> <strong>protectedBranches</strong></h4>
                                <p> A map of protected branches.

 The keys in the map represent the name of a protected branch.
 The values represent the corresponding npm tag the branch is published to.

 Any branches that are specified as protected will also have concurrent builds disabled. This
 is to prevent issues with publishing.
     </p>
                            </li>
                        </ul>
                    
                        <a name="publishConfig"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='../../../../org/zowe/pipelines/nodejs/models/RegistryConfig.html'>RegistryConfig</a> <strong>publishConfig</strong></h4>
                                <p> This is the connection information for the registry where code is published
 to.
     </p>
                            </li>
                        </ul>
                    
                        <a name="registryConfig"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='../../../../org/zowe/pipelines/nodejs/models/RegistryConfig.html'>RegistryConfig</a>[] <strong>registryConfig</strong></h4>
                                <p> An array of registry connection information information for each registry.

 <p>These login operations will happen before the npm install in setup.</p>
     </p>
                            </li>
                        </ul>
                    
                        <a name="steps"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html' title='def'>def</a> <strong>steps</strong></h4>
                                <p> Reference to the groovy pipeline variable.
     <DL><DT><B>See Also:</B></DT><DD><a href='#NodeJSRunner()'>NodeJSRunner()</a></DD></DL></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            

            

            
            <!-- =========== CONSTRUCTOR DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="constructor_detail">
                    <!--   -->
                </a>
                    <h3>Constructor Detail</h3>
                    
                        <a name="NodeJSRunner(def)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><strong>NodeJSRunner</strong>(<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html' title='def'>def</a> steps)</h4>
                                <p> Constructs the class.

 When invoking from a Jenkins pipeline script, the NodeJSRunner must be passed
 the current environment of the Jenkinsfile to have access to the steps.

 <h3>Example Setup:</h3>
 def nodejs = new NodeJSRunner(this)
     <DL><DT><B>Parameters:</B></DT><DD><code>steps</code> -  The workflow steps object provided by the Jenkins pipeline</DD></DL></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            


            
            <!-- =========== METHOD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="method_detail">
                    <!--   -->
                </a>
                    <h3>Method Detail</h3>
                    
                        <a name="_closureWrapper(org.zowe.pipelines.nodejs.models.Stage, groovy.lang.Closure)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;void <strong>_closureWrapper</strong>(<a href='../../../../org/zowe/pipelines/nodejs/models/Stage.html'>Stage</a> stage, <a href='http://docs.groovy-lang.org/latest/html/api/groovy/lang/Closure.html' title='Closure'>Closure</a> closure)</h4>
                                <p> Wraps a closure function in a try catch.

 Used internally by <a href='#createStage(org.zowe.pipelines.nodejs.models.StageArgs)'>createStage(StageArgs)</a> to handle errors thrown by timeouts and
 stage executions.
     <DL><DT><B>Parameters:</B></DT><DD><code>stage</code> -  The stage that is currently executing</DD><DD><code>closure</code> -  The closure function to execute</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="_getStageSkipOption(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a> <strong>_getStageSkipOption</strong>(<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a> name)</h4>
                                <p> Gets the stage skip parameter name.
     <DL><DT><B>Parameters:</B></DT><DD><code>name</code> -  The name of the stage to be skipped.</DD></DL><DL><DT><B>Returns:</B></DT><DD>The name of the skip stage parameter.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="_getTestSummary()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@NonCPS
private&nbsp;<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a> <strong>_getTestSummary</strong>()</h4>
                                <p> Gets a test summary string.

 This method was created using @NonCPS because some of the operations performed cannot be
 serialized. The @NonCPS annotation tells jenkins to not save the variable state of this
 function on shutdown. Failure to run in this mode causes a java.io.NotSerializableException
 in this method.
     <DL><DT><B>Returns:</B></DT><DD>An HTML string of test results to add to the email.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="_loginToRegistry(org.zowe.pipelines.nodejs.models.RegistryConfig)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;void <strong>_loginToRegistry</strong>(<a href='../../../../org/zowe/pipelines/nodejs/models/RegistryConfig.html'>RegistryConfig</a> registry)</h4>
                                <p> Login to the specified registry.<DL><DT><B>throws:</B></DT><DD>NodeJSRunnerException when either the email address or credentials property is missing
                               from the specified registry.</DD></DL>
     <DL><DT><B>Parameters:</B></DT><DD><code>registry</code> -  The registry to login to</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="_logoutOfRegistry(org.zowe.pipelines.nodejs.models.RegistryConfig)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;void <strong>_logoutOfRegistry</strong>(<a href='../../../../org/zowe/pipelines/nodejs/models/RegistryConfig.html'>RegistryConfig</a> registry)</h4>
                                <p> Logout of the specified registry.
     <DL><DT><B>Parameters:</B></DT><DD><code>registry</code> -  The registry to logout of.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="_sendEmailNotification()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;void <strong>_sendEmailNotification</strong>()</h4>
                                <p> Send an email notification about the result of the build to the appropriate users
     </p>
                            </li>
                        </ul>
                    
                        <a name="_validateReportInfo(org.zowe.pipelines.nodejs.models.TestReport, java.lang.String, java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;void <strong>_validateReportInfo</strong>(<a href='../../../../org/zowe/pipelines/nodejs/models/TestReport.html'>TestReport</a> report, <a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a> reportName, <a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a> stageName)</h4>
                                <p> Validates that a test report has the required options.<DL><DT><B>throws:</B></DT><DD>TestStageException when any of the report properties are invalid.</DD></DL>
     <DL><DT><B>Parameters:</B></DT><DD><code>report</code> -  The report to validate</DD><DD><code>reportName</code> -  The name of the report being validated</DD><DD><code>stageName</code> -  The name of the stage that is executing.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="buildStage(java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>buildStage</strong>(<a href='http://docs.oracle.com/javase/8/docs/api/java/util/Map.html' title='Map'>Map</a> arguments = [:])</h4>
                                <p> Creates a stage that will build a NodeJS package.

 Calling this function will add the following stage to your Jenkins pipeline. Arguments passed
 to this function will map to the <a href='../../../../org/zowe/pipelines/nodejs/models/BuildArgs.html' title='BuildArgs'>BuildArgs</a> class.

 Build: <a href='../../../../org/zowe/pipelines/nodejs/models/BuildArgs.html#name' title='BuildArgs.name'>BuildArgs.name</a>
 ---------------------------------------------------------------------------------------------
 Runs the build of your application. If <a href='../../../../org/zowe/pipelines/nodejs/models/BuildArgs.html#buildOperation' title='BuildArgs.buildOperation'>BuildArgs.buildOperation</a> is not provided, the
 stage will default to executing `npm run build`.

 The build stage also ignores any <a href='../../../../org/zowe/pipelines/nodejs/models/BuildArgs.html#resultThreshold' title='BuildArgs.resultThreshold'>BuildArgs.resultThreshold</a> provided and only runs
 on <a href='../../../../org/zowe/pipelines/nodejs/models/ResultEnum.html#SUCCESS' title='ResultEnum.SUCCESS'>ResultEnum.SUCCESS</a>.

 After the buildOperation is complete, the stage will continue to archive the contents of the
 build into a tar file. The folder to archive is specified by arguments.output. In the future,
 this function will run the npm pack command and archive that tar file instead.

 This stage will throw a <a href='../../../../org/zowe/pipelines/nodejs/exceptions/BuildStageException.html' title='BuildStageException'>BuildStageException</a> if called more than once in your pipeline.
 ---------------------------------------------------------------------------------------------
     <DL><DT><B>Parameters:</B></DT><DD><code>arguments</code> -  A map of arguments to be applied to the <a href='../../../../org/zowe/pipelines/nodejs/models/BuildArgs.html' title='BuildArgs'>BuildArgs</a> used to define
                  the stage.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="createStage(org.zowe.pipelines.nodejs.models.StageArgs)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>createStage</strong>(<a href='../../../../org/zowe/pipelines/nodejs/models/StageArgs.html'>StageArgs</a> args)</h4>
                                <p> Creates a new stage to be run in the Jenkins pipeline.

 Stages are executed in the order that they are created. For more details on what arguments
 can be sent into a stage, see the <a href='../../../../org/zowe/pipelines/nodejs/models/StageArgs.html' title='StageArgs'>StageArgs</a> class.<DL><DT><B>TODO:</B></DT><DD>document the skip stuff</DD></DL>
     <DL><DT><B>Parameters:</B></DT><DD><code>args</code> -  The arguments that define the stage.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="createStage(java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>createStage</strong>(<a href='http://docs.oracle.com/javase/8/docs/api/java/util/Map.html' title='Map'>Map</a> arguments)</h4>
                                <p> Creates a new stage to be run in the Jenkins pipeline.
     <DL><DT><B>Parameters:</B></DT><DD><code>arguments</code> -  A map of arguments that can be instantiated to a <a href='../../../../org/zowe/pipelines/nodejs/models/StageArgs.html' title='StageArgs'>StageArgs</a> instance.</DD></DL><DL><DT><B>See Also:</B></DT><DD><a href='#createStage(org.zowe.pipelines.nodejs.models.StageArgs)'>createStage(StageArgs)</a></DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="end(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>end</strong>(<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a>[] archiveFolders = [])</h4>
                                <p> The end method MUST be the last method called as part of your pipeline. The end method is
 responsible for executing all the stages previously created after setting the required build
 options and possible stage parameters. Failure to call this method will prevent your pipeline
 stages from executing.

 Prior to executing the stages, various build options are set. Some of these options include
 the build history and stage skip parameters. After this is done, the method will execute
 all of the created stages in the order they were defined.

 After stage execution, an email will be sent out to those that made the commit. If the build
 failed or returned to normal, all committers since the last successful build will also
 receive the email. Finally if this build is on a protected branch, all emails listed in the
 <a href='#adminEmails'>adminEmails</a> list will also receive a status email.

 The end method adds the following stage to the pipeline:

 Log Archive:
 ---------------------------------------------------------------------------------------------
 This stage will attempt to archive any folders specified. The purpose is to capture any
 relevant logging information to help debug a pipeline build. The stage will execute as long
 as the current result is greater than or equal to <a href='../../../../org/zowe/pipelines/nodejs/models/ResultEnum.html#FAILURE' title='ResultEnum.FAILURE'>ResultEnum.FAILURE</a>

 Any folders specified in archiveFolders will be archived. If a folder is not available, the
 archive will fail. In this scenario, the build will note the copy step as failed but will
 not modify the current build result. This allows you to list directories to archive that only
 appear under certain scenarios without the worry that they will affect the result of your
 build when missing.

 The following locations are always archived:

 - /home/jenkins/.npm/_logs

 ---------------------------------------------------------------------------------------------
     <DL><DT><B>Parameters:</B></DT><DD><code>archiveFolders</code> -  An array of folders to archive. If a specific folder doesn't exist, the
                       build will ignore it and will not modify the current build result. See
                       the notes in the log for the reasoning. If a folder in this array
                       starts with a `/`, the stage will copy the folder into a temp directory
                       inside the project (retaining the folder structure). This is due to
                       the fact that folders outside the workspace cannot be archived by
                       Jenkins. The leading `/` should be used for any logs that you wish to
                       capture that are outside the workspace. Also if the directory starts
                       with a ../, the stage will abort access to that folder. This is because
                       Jenkins cannot archive files outside the workspace.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getFirstFailingStage()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='../../../../org/zowe/pipelines/nodejs/models/Stage.html'>Stage</a> <strong>getFirstFailingStage</strong>()</h4>
                                <p>/*.*"
        }, resultThreshold: ResultEnum.FAILURE, doesIgnoreSkipAll: true, isSkipable: false)

        try {
            // First setup the build properties
            def history = defaultBuildHistory

            // Add protected branch to build options
            if (protectedBranches.containsKey(steps.BRANCH_NAME)) {
                _isProtectedBranch = true;
                history = protectedBranchBuildHistory
                buildOptions.push(steps.disableConcurrentBuilds())
            }

            // Add log rotator to build options
            buildOptions.push(steps.buildDiscarder(steps.logRotator(numToKeepStr: history)))

            // Add any parameters to the build here
            buildOptions.push(steps.parameters(buildParameters))

            steps.properties(buildOptions)

            // Execute the pipeline
            _stages.execute()
        } finally {
            _sendEmailNotification() //<DL><DT><B>FUTURE:</B></DT><DD>As part of the deploy story, extract email stuff into separate class
        }
    }

    /**
 Gets the first failing stage within <a href='#_stages'>_stages</a></DD></DL>
     <DL><DT><B>Returns:</B></DT><DD>The first failing stage if one exists, null otherwise</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getStage(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='../../../../org/zowe/pipelines/nodejs/models/Stage.html'>Stage</a> <strong>getStage</strong>(<a href='http://docs.oracle.com/javase/8/docs/api/java/lang/String.html' title='String'>String</a> stageName)</h4>
                                <p> Get a stage from the available stages by name.
     <DL><DT><B>Parameters:</B></DT><DD><code>stageName</code> -  The name of the stage object to get.</DD></DL><DL><DT><B>Returns:</B></DT><DD>The stage object for the requested stage.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="setResult(Result)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>setResult</strong>(<a href='../../../../Result.html'>Result</a> result)</h4>
                                <p> Set the build result
     <DL><DT><B>Parameters:</B></DT><DD><code>result</code> -  The new result for the build.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="setup()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>setup</strong>()</h4>
                                <p> Creates the pipeline setup stages.

 This method MUST be called before any other stages are created. If not called, your Jenkins
 pipeline will fail. It is also recommended that any public properties of this class are set
 prior to calling setup.

 The setup method creates 4 stages in your Jenkins pipeline using the <a href='#createStage(java.util.Map)'>createStage(Map)</a>
 function.

 Setup:
 ---------------------------------------------------------------------------------------------
 Used internally to indicate that the NodeJSRunner properly set the pipeline up.
 ---------------------------------------------------------------------------------------------

 Checkout:
 ---------------------------------------------------------------------------------------------
 Checks the git source out for the pipeline.
 ---------------------------------------------------------------------------------------------

 Check for CI Skip:
 ---------------------------------------------------------------------------------------------
 Checks that the build commit doesn't contain the CI Skip indicator. If the pipeline finds
 the skip commit, all remaining steps (except those explicitly set to ignore this condition)
 will also be skipped. The build will also be marked as not built in this scenario.
 ---------------------------------------------------------------------------------------------

 Install Node Package Dependencies:
 ---------------------------------------------------------------------------------------------
 This step will install all your package dependencies via `npm install`. Prior to install
 the stage will login to any registries specified in the <a href='#registryConfig'>registryConfig</a> array. On
 exit, the step will try to logout of the registries specified in <a href='#registryConfig'>registryConfig</a>.

 - If two default registries, a registry that omits a url, are specified, this stage will fail
 - Failure to login to a registry or install dependencies will result in a failed build.
 - Failure to logout of a registry will not fail the build.
 ---------------------------------------------------------------------------------------------
     </p>
                            </li>
                        </ul>
                    
                        <a name="testStage(java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>testStage</strong>(<a href='http://docs.oracle.com/javase/8/docs/api/java/util/Map.html' title='Map'>Map</a> arguments = [:])</h4>
                                <p> Creates a stage that will execute tests on a NodeJS.

 Calling this function will add the following stage to your Jenkins pipeline. Arguments passed
 to this function will map to the <a href='../../../../org/zowe/pipelines/nodejs/models/TestArgs.html' title='TestArgs'>TestArgs</a> class.

 Test: <a href='../../../../org/zowe/pipelines/nodejs/models/TestArgs.html#name' title='TestArgs.name'>TestArgs.name</a>
 ---------------------------------------------------------------------------------------------
 Runs one of your application tests. If <a href='../../../../org/zowe/pipelines/nodejs/models/TestArgs.html#testOperation' title='TestArgs.testOperation'>TestArgs.testOperation</a>, the stage will execute
 `npm run test` as the default operation. If the test operation throws an error, that error is
 ignored and  will be assumed to be caught in the junit processing. Some test functions may
 exit with a non-zero return code on a test failure but may still capture junit output. In
 this scenario, it is assumed that the junit report is either missing or contains failing
 tests. In the case that it is missing, the build will fail on this report and relevant
 exceptions are printed. If the junit report contains failing tests, the build will be marked
 as unstable and a report of failing tests can be viewed.

 The following reports can be captured:


 Test Results HTML Report (REQUIRED)
 -----------------------------------
 This is an html report that contains the result of the build. The report must be defined to
 the method in the <a href='../../../../org/zowe/pipelines/nodejs/models/TestArgs.html#testResults' title='TestArgs.testResults'>TestArgs.testResults</a> variable.
 -----------------------------------

 Code Coverage HTML Report
 -----------------------------------
 This is an HTML report generated from code coverage output from your build. The report can
 be omitted by omitting <a href='../../../../org/zowe/pipelines/nodejs/models/TestArgs.html#coverageResults' title='TestArgs.coverageResults'>TestArgs.coverageResults</a>
 -----------------------------------

 JUnit report (REQUIRED)
 -----------------------------------
 This report feeds Jenkins the data about the current test run. It can be used to mark a build
 as failed or unstable. The report location must be present in <a href='../../../../org/zowe/pipelines/nodejs/models/TestArgs.html#junitOutput' title='TestArgs.junitOutput'>TestArgs.junitOutput</a>
 -----------------------------------

 Cobertura Report
 -----------------------------------
 This report feeds Jenkins the data about the coverage results for the current test run. If
 no Cobertura options are passed, then no coverage data will be collected. For more
 information, see <a href='../../../../org/zowe/pipelines/nodejs/models/TestArgs.html#cobertura' title='TestArgs.cobertura'>TestArgs.cobertura</a>
 -----------------------------------

 The test stage will execute by default if the current build result is greater than or
 equal to <a href='../../../../org/zowe/pipelines/nodejs/models/ResultEnum.html#UNSTABLE' title='ResultEnum.UNSTABLE'>ResultEnum.UNSTABLE</a>. If a different status is passed, that will take
 precedent.

 After the test is complete, the stage will continue to collect the JUnit Report and the Test
 Results HTML Report. The stage will fail if either of those are missing. If specified, the
 Code Coverage HTML Report and the Cobertura Report are then captured. The build will fail if
 these reports are to be collected and were missing.

 Some tests may also require the use of the gnome-keyring. The stage can be configured to
 unlock the keyring prior to the tests by passing <a href='../../../../org/zowe/pipelines/nodejs/models/TestArgs.html#shouldUnlockKeyring' title='TestArgs.shouldUnlockKeyring'>TestArgs.shouldUnlockKeyring</a> as true

 Stage Exceptions
 -----------------------------------

 The test stage can throw a <a href='../../../../org/zowe/pipelines/nodejs/exceptions/TestStageException.html' title='TestStageException'>TestStageException</a> under any of the following
 circumstances:

 - A test stage was created before a call to <a href='#buildStage(java.util.Map)'>buildStage(Map)</a>
 - <a href='../../../../org/zowe/pipelines/nodejs/models/TestArgs.html#testResults' title='TestArgs.testResults'>TestArgs.testResults</a> was missing
 - Invalid options specified for <a href='../../../../org/zowe/pipelines/nodejs/models/TestArgs.html#testResults' title='TestArgs.testResults'>TestArgs.testResults</a>
 - <a href='../../../../org/zowe/pipelines/nodejs/models/TestArgs.html#coverageResults' title='TestArgs.coverageResults'>TestArgs.coverageResults</a> was provided but had an invalid format
 - <a href='../../../../org/zowe/pipelines/nodejs/models/TestArgs.html#junitOutput' title='TestArgs.junitOutput'>TestArgs.junitOutput</a> is missing

 ---------------------------------------------------------------------------------------------
     <DL><DT><B>Parameters:</B></DT><DD><code>arguments</code> -  A map of arguments to be applied to the <a href='../../../../org/zowe/pipelines/nodejs/models/TestArgs.html' title='TestArgs'>TestArgs</a> used to define
                  the stage.</DD></DL></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            
        </li>
    </ul>
</div>

<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
    <!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../index-all.html">Index</a></li>
        <li><a href="../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../index.html?org/zowe/pipelines/nodejs/NodeJSRunner" target="_top">Frames</a></li>
            <li><a href="NodeJSRunner.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;<li><a href="#field_summary">Field</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            <li><a href="#field_detail">Field</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <p>Groovy Documentation</p>
    <a name="skip-navbar_bottom">
        <!--   -->
    </a>
    </div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
